version: 2.1
# Define the jobs we want to run for this project

jobs:
  build_docker_image:
    docker:
      - image: dondausi/snarkos:latest
        auth:
          username: $DOCKER_HUB_USER
          password: $DOCKER_HUB_PASSWORD 
    steps:
      - checkout
      - setup_remote_docker:
          docker_layer_caching: true
      - run:
          name: Build Docker Image
          command: |
            docker build -t dondausi/snarkos --platform=linux/arm64 .
  
workflows:
  build:
    jobs:
      - build_docker_image
          


 